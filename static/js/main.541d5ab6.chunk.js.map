{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/App/App.module.css","services/imageApi.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/SearchBar/SearchBar.js","components/Loader/Loader.js","components/Button/Button.js","components/Notifications/Notifications.js","components/Modal/Modal.js","components/App/App.js","index.js","components/SearchBar/SearchBar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","searchQuery","page","axios","get","ImageGalleryItem","item","webformatURL","id","onClickImage","className","styles","onClick","role","src","alt","ImageGalleryItemImage","ImageGallery","items","defaultProps","map","key","SearchBar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","Spinner","spinner","color","height","width","Button","Notification","message","Modal","closeOnEsc","code","handleCloseModal","currentTarget","urlForlargeImage","find","largeImageURL","window","addEventListener","removeEventListener","Overlay","App","isLoading","error","pageNumber","ModalState","imageId","newSearch","fetchImages","imageApi","then","data","prevState","hits","catch","finally","handleSearchFormSubmit","query","onClickMore","changeModalState","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","text","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.541d5ab6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2lRLx\",\"Modal\":\"Modal_Modal__euzHK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1aylR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Loader_spinner__BS-T9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1II9v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__11kNB\"};","import axios from \"axios\";\n\nconst API_KEY = \"15647296-0cd5e3917b5565ffd95f055ae\";\n\nconst fetchImagesWithQuery = (searchQuery, page) => {\n  return axios.get(\n    `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n};\n\nexport default {\n  fetchImagesWithQuery\n};\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ item: { webformatURL, id }, onClickImage }) => {\r\n  return (\r\n    <li\r\n      className={styles.ImageGalleryItem}\r\n      onClick={() => onClickImage(id)}\r\n      role=\"presentation\"\r\n    >\r\n      <img\r\n        id={id}\r\n        src={webformatURL}\r\n        alt=\"picure\"\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  item: PropTypes.shape({\r\n    id: PropTypes.number.isRequired,\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired\r\n  }).isRequired,\r\n  onClickImage: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nexport default function ImageGallery({ items, onClickImage }) {\r\n  ImageGallery.defaultProps = {\r\n    items: []\r\n  };\r\n\r\n  ImageGallery.propTypes = {\r\n    items: PropTypes.arrayOf(PropTypes.shape({})),\r\n    onClickImage: PropTypes.func.isRequired\r\n  };\r\n\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {items.map(item => (\r\n        <ImageGalleryItem\r\n          key={item.id}\r\n          item={item}\r\n          onClickImage={onClickImage}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./SearchBar.module.css\";\r\nexport default class SearchBar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = { inputValue: \"\" };\r\n\r\n  handleChange = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className={styles.SearchBar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            value={this.state.inputValue}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from \"./Loader.module.css\";\r\nexport default function Spinner() {\r\n  return (\r\n    <div className={styles.spinner}>\r\n      <Loader type=\"Circles\" color=\"blue\" height={80} width={80} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button onClick={onClick} type=\"button\" className={styles.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\n\r\nexport default function Notification(message) {\r\n  return <div>{message}</div>;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n    id: PropTypes.number.isRequired,\r\n    onClickImage: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.closeOnEsc);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.closeOnEsc);\r\n  }\r\n\r\n  closeOnEsc = e => {\r\n    if (e.code === \"Escape\") this.props.onClickImage();\r\n    return;\r\n  };\r\n\r\n  handleCloseModal = e => {\r\n    if (e.target === e.currentTarget) this.props.onClickImage();\r\n    return;\r\n  };\r\n\r\n  urlForlargeImage = () => {\r\n    const { items, id } = this.props;\r\n    const selectedImage = items.find(item => item.id === +id);\r\n    return selectedImage.largeImageURL;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={styles.Overlay}\r\n        onClick={this.handleCloseModal}\r\n        role=\"presentation\"\r\n      >\r\n        <div className={styles.Modal}>\r\n          <img src={this.urlForlargeImage()} alt=\"largeImage\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\nimport imageApi from \"../../services/imageApi\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport Loader from \"../Loader/Loader\";\nimport Button from \"../Button/Button\";\nimport Notification from \"../Notifications/Notifications\";\nimport Modal from \"../Modal/Modal\";\nimport styles from \"./App.module.css\";\n\nexport default class App extends Component {\n  state = {\n    items: [],\n    isLoading: false,\n    error: null,\n    searchQuery: \"\",\n    pageNumber: 1,\n    ModalState: false,\n    imageId: \"\",\n    newSearch: 1\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.searchQuery !== this.state.searchQuery ||\n      prevState.pageNumber !== this.state.pageNumber ||\n      prevState.newSearch !== this.state.newSearch\n    ) {\n      this.fetchImages();\n    }\n\n    if (prevState.items !== this.state.items) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\"\n      });\n    }\n  }\n\n  fetchImages = () => {\n    const { searchQuery, pageNumber } = this.state;\n    this.setState({ isLoading: true });\n    imageApi\n      .fetchImagesWithQuery(searchQuery, pageNumber)\n      .then(({ data }) =>\n        this.setState(prevState => ({\n          items: [...prevState.items, ...data.hits]\n        }))\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() =>\n        this.setState({\n          isLoading: false\n        })\n      );\n  };\n\n  handleSearchFormSubmit = query => {\n    this.setState(prevState => ({\n      searchQuery: query,\n      pageNumber: 1,\n      items: [],\n      newSearch: !prevState.newSearch\n    }));\n  };\n  onClickMore = () => {\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1\n    }));\n  };\n\n  changeModalState = id => {\n    this.setState({ ModalState: !this.state.ModalState, imageId: id });\n  };\n\n  render() {\n    const { items, isLoading, error, ModalState, imageId } = this.state;\n    return (\n      <div className={styles.App}>\n        <SearchBar onSubmit={this.handleSearchFormSubmit} />\n        {error && <Notification text={error.message} />}\n        {isLoading && <Loader />}\n        {items.length > 0 && (\n          <ImageGallery items={items} onClickImage={this.changeModalState} />\n        )}\n        {items.length > 0 && <Button onClick={this.onClickMore} />}\n        {ModalState && (\n          <Modal\n            items={items}\n            id={imageId}\n            onClickImage={this.changeModalState}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"SearchBar_SearchBar__39ded\",\"SearchForm\":\"SearchBar_SearchForm__1XdFx\",\"SearchFormButton\":\"SearchBar_SearchFormButton__kmj3C\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__2kUVl\",\"SearchFormInput\":\"SearchBar_SearchFormInput__1TROt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1gwGG\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1_iMG\"};"],"sourceRoot":""}